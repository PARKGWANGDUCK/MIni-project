package miniProject.user;

import java.sql.Connection;
import java.sql.DriverManager;
import java.sql.SQLException;
import java.sql.Statement;

public class DBIdPasswords {
	private static final String DB_URL = "jdbc:mysql://localhost:3306/";
	private static final String DATABASE_NAME = "account";
	private static final String USER = "root";
	private static final String PASSWORD = "skffkqhd831!";
	
	public static Connection getConnection() throws SQLException {
		return DriverManager.getConnection(DB_URL + DATABASE_NAME, USER, PASSWORD);
		
	}
	
public static void dropAndCreateTable() {
		
		final String dropTableQuery = "DROP TABLE IF EXISTS profile";
		
		// Statement : Query 전달 객체
		Connection conn;
		Statement stmt;
		try {
			conn = getConnection();
			stmt = conn.createStatement();
			stmt.execute(dropTableQuery); // 진행 시켜
			
			final String createTableQuery = 
		            "CREATE TABLE profile (" +
				    "user_num INT(5) unsigned NOT NULL AUTO_INCREMENT," +
		            "user_id VARCHAR(255)," +
		            "user_password VARCHAR(255)," +		            
		            "PRIMARY KEY (user_num))";
			
			stmt.execute(createTableQuery);
		} catch (SQLException e) {
			e.printStackTrace();
		}
	}
}
